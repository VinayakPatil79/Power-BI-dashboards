<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vinayak Patil | Strategic Business Analyst Portfolio</title>
    <!-- Load Tailwind CSS from CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Load Google Fonts: Inter (Standard), Audiowide (Creative Portfolio Font), and Oswald (Bold Header Font) -->
    <link href="https://fonts.googleapis.com/css2?family=Audiowide&family=Inter:wght@100..900&family=Oswald:wght@200..700&display=swap" rel="stylesheet">
    
    <!-- Custom Tailwind Configuration for primary colors and font -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-text': '#1f2937', 
                        'secondary-text': '#4b5563',
                        'primary-bg': '#f9fafb',
                        'card-bg': '#ffffff',
                        'primary-color': '#0c4a6e',
                        'accent-color': '#34d399', // BRIGHT GREEN
                        'accent-light': '#d1fae5', // Lighter shade of the bright green
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        creative: ['Audiowide', 'sans-serif'], // For PORTFOLIO
                        header: ['Oswald', 'sans-serif'],       // For VINAYAK'S and BUSINESS ANALYST
                    },
                }
            }
        }
    </script>
    <style>
        /* Set default font, smooth scrolling, and light background */
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
            background-color: var(--tw-colors-primary-bg, #f9fafb);
            color: var(--tw-colors-primary-text, #1f2937);
        }

        /* Base link style for navigation */
        .nav-link {
            /* Text color transition updated to 600ms (slower) */
            transition: color 600ms ease-in-out; 
            color: var(--tw-colors-secondary-text, #4b5563);
            /* Needed to position the pseudo-element underline */
            position: relative; 
            /* Added for robust pseudo-element positioning (FIX for underline visibility) */
            display: inline-block; 
            /* To hide the pseudo-element until it is ready to slide in */
            padding-bottom: 2px;
            overflow: hidden; 
        }
        
        /* Pseudo-element for the Left-to-Right Underline Wipe */
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0; 
            left: 0;
            width: 0; /* Starts at 0 width */
            height: 2px;
            background-color: var(--tw-colors-accent-color, '#34d399'); 
            /* Wipe transition updated to 600ms (slower) */
            transition: width 600ms ease-in-out; 
        }
        
        /* Active link style: changes color and triggers the underline wipe */
        .nav-link.active {
            color: var(--tw-colors-accent-color, '#34d399') !important; 
        }
        
        .nav-link.active::after {
            /* Wipes from left to right to 100% width */
            width: 100%; 
        }

        /* Define the subtle pulsing glow animation for the main title */
        @keyframes subtle-glow {
            from {
                text-shadow: 
                    0 0 5px var(--tw-colors-accent-color),
                    0 0 10px rgba(52, 211, 153, 0.5),
                    0 0 20px rgba(52, 211, 153, 0.3);
            }
            to {
                text-shadow: 
                    0 0 10px var(--tw-colors-accent-color),
                    0 0 20px rgba(52, 211, 153, 0.8),
                    0 0 30px rgba(52, 211, 153, 0.6);
            }
        }

        /* Custom CSS for the "PORTFOLIO" Text (Audiowide) */
        .fancy-text {
            font-family: 'Audiowide', sans-serif; 
            font-size: 3rem; 
            font-weight: 400; 
            letter-spacing: 0.1em; /* Reduced spacing */
            
            text-shadow: 
                0 0 8px var(--tw-colors-accent-color),
                0 0 15px rgba(52, 211, 153, 0.7),
                0 0 25px rgba(52, 211, 153, 0.5);
            color: var(--tw-colors-primary-color); 
            text-transform: uppercase;
            display: flex; 
            justify-content: center;

            animation: subtle-glow 3s ease-in-out infinite alternate;
        }

        /* Adjusted font size for larger screens for better fit */
        @media (min-width: 768px) {
            .fancy-text {
                font-size: 6rem; 
            }
        }

        /* --- JUMP EFFECT STYLES --- */
        .hover-jump-letter {
            display: inline-block; 
            transition: transform 0.2s ease-out, color 0.2s ease-out; 
            cursor: pointer; 
            padding: 0 1px;
            margin: 0 -1px; 
            white-space: pre; /* Important for preserving spaces handled by JS */
        }

        .hover-jump-letter:hover {
            transform: translateY(-10px) rotate(0deg); 
            color: var(--tw-colors-accent-color); 
            text-shadow: 
                0 0 5px var(--tw-colors-primary-color),
                0 0 10px rgba(52, 211, 153, 1); 
        }

        /* --- SCROLL ANIMATION STYLES --- */
        /* Wrapper class for animation properties */
        .content-wrapper {
            transition-property: all;
            transition-duration: 1000ms; /* 1 second duration */
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); /* ease-in-out */
        }

        /* Initial hidden state (opacity 0 and slightly pushed down) */
        .content-hidden {
            opacity: 0;
            transform: translateY(30px);
        }
    </style>
</head>
<body class="text-primary-text">

    <!-- Navigation Bar -->
    <header class="sticky top-0 z-50 bg-card-bg/95 backdrop-blur-sm border-b border-gray-200 shadow-md">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-extrabold text-primary-color transition duration-300 hover:text-accent-color">
                Vinayak Patil
            </a>
            <div class="space-x-4 hidden md:flex">
                <!-- Navigation links use the .nav-link class for JS highlighting -->
                <a href="#about" class="nav-link px-3 py-2 rounded-lg hover:text-primary-color font-medium">About</a>
                <a href="#skills" class="nav-link px-3 py-2 rounded-lg hover:text-primary-color font-medium">Skills</a>
                <a href="#projects" class="nav-link px-3 py-2 rounded-lg hover:text-primary-color font-medium">Projects</a>
                <a href="#contact" class="px-5 py-2 bg-accent-color text-white rounded-full font-semibold shadow-md hover:bg-accent-color/90 transition duration-300">Connect</a>
            </div>
            <!-- Mobile Menu Button (Hamburger) -->
            <button id="menu-button" class="md:hidden p-2 rounded-md text-primary-color focus:outline-none focus:ring-2 focus:ring-accent-color">
                <i data-lucide="menu" class="w-6 h-6"></i>
            </button>
        </nav>
        <!-- Mobile Menu Dropdown -->
        <div id="mobile-menu" class="hidden md:hidden bg-card-bg/95 backdrop-blur-sm px-4 pt-2 pb-4 border-t border-gray-100">
            <a href="#about" class="block py-2 px-3 text-secondary-text hover:bg-gray-100 rounded-md nav-link">About</a>
            <a href="#skills" class="block py-2 px-3 text-secondary-text hover:bg-gray-100 rounded-md nav-link">Skills</a>
            <a href="#projects" class="block py-2 px-3 text-secondary-text hover:bg-gray-100 rounded-md nav-link">Projects</a>
            <a href="#contact" class="block py-2 px-3 bg-accent-color text-white rounded-md mt-2 text-center">Connect</a>
        </div>
    </header>

    <main>
        
        <!-- LANDING PAGE -->
        <section id="landing" class="min-h-screen flex items-center justify-center text-center bg-primary-bg border-b border-gray-200">
            <div class="max-w-4xl mx-auto p-8">
                
                <!-- VINAYAK'S - Now uses an ID, content will be wrapped in spans by JS -->
                <p id="vinayaks-title" class="text-3xl md:text-5xl text-accent-color font-header font-bold tracking-widest mb-4 uppercase">
                    VINAYAK'S
                </p>

                <!-- PORTFOLIO - Now uses an ID, content will be wrapped in spans by JS -->
                <h1 id="portfolio-title" class="fancy-text">
                    PORTFOLIO
                </h1>
                
                <!-- BUSINESS ANALYST - Now uses an ID, content will be wrapped in spans by JS -->
                <p id="ba-title" class="text-3xl md:text-5xl text-accent-color mt-6 font-header font-bold tracking-wider uppercase">
                    BUSINESS ANALYST
                </p>

                <div class="mt-12">
                    <a href="#about" class="inline-block p-3 rounded-full bg-accent-color/10 text-accent-color hover:bg-accent-color/20 transition duration-300 transform hover:scale-110">
                        <i data-lucide="chevrons-down" class="w-8 h-8 animate-bounce"></i>
                    </a>
                </div>
            </div>
        </section>
        
        <!-- Hero/About Me Section -->
        <section id="about" class="py-20 md:py-32 container mx-auto px-4 sm:px-6 lg:px-8 text-center min-h-screen flex flex-col justify-center">
            <!-- Animation Wrapper for About Content -->
            <div class="content-wrapper content-hidden max-w-4xl mx-auto">
                <div class="w-32 h-32 mx-auto mb-6 rounded-full overflow-hidden border-4 border-accent-color/50 shadow-lg">
                    <!-- Placeholder Image - Replace with your own profile photo URL -->
                    <img src="https://placehold.co/128x128/34d399/ffffff?text=VP" alt="Profile Picture" class="object-cover w-full h-full">
                </div>
                <p class="text-xl text-secondary-text mb-4 font-medium">Hello, I'm</p>
                <h1 class="text-5xl md:text-7xl font-extrabold mb-6 leading-tight text-primary-color">
                    Vinayak Patil
                </h1>
                <p class="text-2xl md:text-3xl text-primary-bg bg-accent-color inline-block px-4 py-1 rounded-xl shadow-lg mb-8 font-semibold">
                    Strategic Business Analyst
                </p>
                <p class="text-lg text-secondary-text max-w-2xl mx-auto mb-10">
                    A dedicated Business Analyst specializing in translating complex business challenges into clear, actionable technology and process requirements to drive measurable organizational success.
                </p>
                <div class="flex justify-center space-x-4">
                    <a href="#projects" class="px-8 py-3 bg-primary-color text-white rounded-full font-semibold shadow-lg hover:bg-primary-color/90 transition duration-300 transform hover:scale-105">
                        View Case Studies
                    </a>
                    <a href="/path/to/your/resume.pdf" target="_blank" class="px-8 py-3 bg-white text-primary-color border border-primary-color/50 rounded-full font-semibold shadow-lg hover:bg-gray-100 transition duration-300 transform hover:scale-105">
                        Download Resume
                    </a>
                </div>
            </div>
        </section>

        <!-- Skills Section -->
        <section id="skills" class="py-20 bg-accent-light">
            <!-- Animation Wrapper for Skills Content -->
            <div class="content-wrapper content-hidden container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-4xl font-bold text-center mb-12 text-primary-color">Core Skills & Competencies</h2>
                <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-6">

                    <!-- Skill Card 1: Requirements Elicitation -->
                    <div class="bg-card-bg p-6 rounded-xl text-center shadow-lg border border-gray-100 hover:shadow-xl transition duration-300 transform hover:scale-105">
                        <i data-lucide="clipboard-list" class="w-10 h-10 text-accent-color mx-auto mb-3"></i>
                        <p class="font-semibold text-lg text-primary-text">Requirements Elicitation</p>
                    </div>

                    <!-- Skill Card 2: Data Analysis -->
                    <div class="bg-card-bg p-6 rounded-xl text-center shadow-lg border border-gray-100 hover:shadow-xl transition duration-300 transform hover:scale-105">
                        <i data-lucide="bar-chart-3" class="w-10 h-10 text-accent-color mx-auto mb-3"></i>
                        <p class="font-semibold text-lg text-primary-text">Data & Trend Analysis</p>
                    </div>

                    <!-- Skill Card 3: Process Modeling -->
                    <div class="bg-card-bg p-6 rounded-xl text-center shadow-lg border border-gray-100 hover:shadow-xl transition duration-300 transform hover:scale-105">
                        <i data-lucide="git-branch" class="w-10 h-10 text-accent-color mx-auto mb-3"></i>
                        <p class="font-semibold text-lg text-primary-text">Process Modeling (BPMN)</p>
                    </div>

                    <!-- Skill Card 4: Stakeholder Management -->
                    <div class="bg-card-bg p-6 rounded-xl text-center shadow-lg border border-gray-100 hover:shadow-xl transition duration-300 transform hover:scale-105">
                        <i data-lucide="users" class="w-10 h-10 text-accent-color mx-auto mb-3"></i>
                        <p class="font-semibold text-lg text-primary-text">Stakeholder Management</p>
                    </div>

                    <!-- Skill Card 5: SQL & Reporting -->
                    <div class="bg-card-bg p-6 rounded-xl text-center shadow-lg border border-gray-100 hover:shadow-xl transition duration-300 transform hover:scale-105">
                        <i data-lucide="database" class="w-10 h-10 text-accent-color mx-auto mb-3"></i>
                        <p class="font-semibold text-lg text-primary-text">SQL & BI Reporting</p>
                    </div>

                    <!-- Skill Card 6: Agile -->
                    <div class="bg-card-bg p-6 rounded-xl text-center shadow-lg border border-gray-100 hover:shadow-xl transition duration-300 transform hover:scale-105">
                        <i data-lucide="trello" class="w-10 h-10 text-accent-color mx-auto mb-3"></i>
                        <p class="font-semibold text-lg text-primary-text">Agile/Scrum</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Projects Section - The "Wall of Portfolios" -->
        <section id="projects" class="py-20 md:py-32">
            <!-- Animation Wrapper for Projects Content -->
            <div class="content-wrapper content-hidden container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-4xl font-bold text-center mb-12 text-primary-color">Featured Case Studies & Projects</h2>

                <!-- Grid for the Wall of Portfolios (4 items, 2x2 on desktop) -->
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">

                    <!-- Project Card 1: Process Optimization -->
                    <div class="bg-card-bg border border-gray-200 rounded-xl overflow-hidden shadow-xl transition duration-300 hover:shadow-2xl hover:border-accent-color/30 transform hover:scale-[1.02]">
                        <img src="https://placehold.co/600x400/34d399/ffffff?text=Procurement+Process" alt="Procurement Process Optimization Mockup" class="w-full h-48 object-cover">
                        <div class="p-5">
                            <h3 class="text-xl font-bold mb-2 text-accent-color">Supply Chain Process Optimization</h3>
                            <p class="text-secondary-text text-sm mb-4">
                                Led analysis and restructuring of procurement processes, achieving a **15% reduction** in product lead time.
                            </p>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="text-xs font-semibold px-3 py-1 bg-accent-light text-primary-color rounded-full">BPMN</span>
                                <span class="text-xs font-semibold px-3 py-1 bg-accent-light text-primary-color rounded-full">Cost-Benefit Analysis</span>
                            </div>
                            <a href="#" target="_blank" class="text-primary-color font-semibold hover:text-accent-color flex items-center transition duration-300 text-sm">
                                <i data-lucide="external-link" class="w-4 h-4 mr-1"></i> Read Case Study
                            </a>
                        </div>
                    </div>

                    <!-- Project Card 2: System Upgrade -->
                    <div class="bg-card-bg border border-gray-200 rounded-xl overflow-hidden shadow-xl transition duration-300 hover:shadow-2xl hover:border-accent-color/30 transform hover:scale-[1.02]">
                        <img src="https://placehold.co/600x400/34d399/ffffff?text=CRM+Upgrade" alt="CRM Upgrade Mockup" class="w-full h-48 object-cover">
                        <div class="p-5">
                            <h3 class="text-xl font-bold mb-2 text-accent-color">CRM System Upgrade Roadmap</h3>
                            <p class="text-secondary-text text-sm mb-4">
                                Developed a comprehensive requirements package (BRD, SRS) for upgrading the core Customer Relationship Management system.
                            </p>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="text-xs font-semibold px-3 py-1 bg-accent-light text-primary-color rounded-full">Requirements Mgt.</span>
                                <span class="text-xs font-semibold px-3 py-1 bg-accent-light text-primary-color rounded-full">UML Modeling</span>
                            </div>
                            <a href="#" target="_blank" class="text-primary-color font-semibold hover:text-accent-color flex items-center transition duration-300 text-sm">
                                <i data-lucide="external-link" class="w-4 h-4 mr-1"></i> View Documentation
                            </a>
                        </div>
                    </div>

                    <!-- Project Card 3: Data Governance -->
                    <div class="bg-card-bg border border-gray-200 rounded-xl overflow-hidden shadow-xl transition duration-300 hover:shadow-2xl hover:border-accent-color/30 transform hover:scale-[1.02]">
                        <img src="https://placehold.co/600x400/34d399/ffffff?text=Data+Policy" alt="Data Governance Mockup" class="w-full h-48 object-cover">
                        <div class="p-5">
                            <h3 class="text-xl font-bold mb-2 text-accent-color">Data Governance Policy Implementation</h3>
                            <p class="text-secondary-text text-sm mb-4">
                                Collaborated with IT to define and roll out data governance policies, improving enterprise data quality and compliance.
                            </p>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="text-xs font-semibold px-3 py-1 bg-accent-light text-primary-color rounded-full">Data Modeling</span>
                                <span class="text-xs font-semibold px-3 py-1 bg-accent-light text-primary-color rounded-full">Compliance</span>
                            </div>
                            <a href="#" target="_blank" class="text-primary-color font-semibold hover:text-accent-color flex items-center transition duration-300 text-sm">
                                <i data-lucide="external-link" class="w-4 h-4 mr-1"></i> Project Summary
                            </a>
                        </div>
                    </div>

                    <!-- Project Card 4: Financial Systems -->
                    <div class="bg-card-bg border border-gray-200 rounded-xl overflow-hidden shadow-xl transition duration-300 hover:shadow-2xl hover:border-accent-color/30 transform hover:scale-[1.02]">
                        <img src="https://placehold.co/600x400/34d399/ffffff?text=Reporting+System" alt="Financial Reporting Mockup" class="w-full h-48 object-cover">
                        <div class="p-5">
                            <h3 class="text-xl font-bold mb-2 text-accent-color">Financial Reporting System Implementation</h3>
                            <p class="text-secondary-text text-sm mb-4">
                                Managed the business analysis phase for implementing a new financial forecasting and reporting system.
                            </p>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="text-xs font-semibold px-3 py-1 bg-accent-light text-primary-color rounded-full">Financial Modeling</span>
                                <span class="text-xs font-semibold px-3 py-1 bg-accent-light text-primary-color rounded-full">User Stories</span>
                            </div>
                            <a href="#" target="_blank" class="text-primary-color font-semibold hover:text-accent-color flex items-center transition duration-300 text-sm">
                                <i data-lucide="external-link" class="w-4 h-4 mr-1"></i> Documentation
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="py-20 bg-accent-light">
            <!-- Animation Wrapper for Contact Content -->
            <div class="content-wrapper content-hidden container mx-auto px-4 sm:px-6 lg:px-8 max-w-2xl text-center">
                <h2 class="text-4xl font-bold mb-4 text-primary-color">Let's Connect</h2>
                <p class="text-lg text-secondary-text mb-8">
                    I'm eager to discuss new strategic initiatives, consulting opportunities, or data challenges.
                </p>

                <div class="space-y-4 mb-10">
                    <div class="flex items-center justify-center space-x-3 text-secondary-text">
                        <i data-lucide="mail" class="w-6 h-6 text-accent-color"></i>
                        <a href="mailto:vinayak.patil@example.com" class="text-lg hover:text-primary-color transition duration-300">vinayak.patil@example.com</a>
                    </div>
                    <div class="flex items-center justify-center space-x-3 text-secondary-text">
                        <i data-lucide="linkedin" class="w-6 h-6 text-accent-color"></i>
                        <a href="https://linkedin.com/in/vinayakpatil" target="_blank" class="text-lg hover:text-primary-color transition duration-300">/in/vinayakpatil</a>
                    </div>
                </div>

                <!-- Simple Contact Form Mockup -->
                <form action="#" class="space-y-4 p-8 bg-card-bg rounded-xl shadow-2xl border border-gray-200">
                    <input type="text" placeholder="Your Name" required class="w-full p-3 rounded-lg bg-gray-50 border border-gray-300 focus:border-accent-color focus:ring-1 focus:ring-accent-color text-primary-text placeholder-secondary-text">
                    <input type="email" placeholder="Your Email" required class="w-full p-3 rounded-lg bg-gray-50 border border-gray-300 focus:border-accent-color focus:ring-1 focus:ring-accent-color text-primary-text placeholder-secondary-text">
                    <textarea placeholder="Your Message or Inquiry" rows="4" required class="w-full p-3 rounded-lg bg-gray-50 border border-gray-300 focus:border-accent-color focus:ring-1 focus:ring-accent-color text-primary-text placeholder-secondary-text"></textarea>
                    <button type="submit" class="w-full py-3 bg-accent-color text-white font-bold rounded-lg shadow-lg hover:bg-accent-color/90 transition duration-300 transform hover:scale-[1.01]">
                        Send Message
                    </button>
                </form>

            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-card-bg border-t border-gray-200 py-8">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="flex justify-center space-x-6 mb-4">
                <a href="https://linkedin.com/in/vinayakpatil" target="_blank" class="text-secondary-text hover:text-accent-color transition duration-300">
                    <i data-lucide="linkedin" class="w-6 h-6"></i>
                </a>
                <a href="https://github.com/vinayakpatil" target="_blank" class="text-secondary-text hover:text-accent-color transition duration-300">
                    <i data-lucide="github" class="w-6 h-6"></i>
                </a>
            </div>
            <p class="text-sm text-secondary-text">&copy; 2025 Vinayak Patil. All rights reserved. | Built with HTML & Tailwind CSS.</p>
        </div>
    </footer>

    <!-- JavaScript for Mobile Menu, Lucide Icons, Active Navigation, and Scroll Animation -->
    <script>
        // Initialize Lucide Icons
        lucide.createIcons();

        // -----------------------------------------------------------------
        // Function to apply the hover jump effect to text within an element
        // -----------------------------------------------------------------
        function applyJumpEffect(elementId) {
            const element = document.getElementById(elementId);
            if (!element) return;

            // Preserve the original text before modification and trim whitespace
            const text = element.textContent.trim();
            // Clear the original content
            element.innerHTML = ''; 

            // Iterate through each character in the text
            text.split('').forEach(char => {
                const span = document.createElement('span');
                span.classList.add('hover-jump-letter');
                
                // Set the character content. For spaces, use a regular space
                // and rely on the CSS 'white-space: pre;' in .hover-jump-letter 
                // to maintain layout spacing.
                span.textContent = char;

                element.appendChild(span);
            });
        }

        // Apply jump effect to the three main titles on the landing page
        applyJumpEffect('vinayaks-title');
        applyJumpEffect('portfolio-title');
        applyJumpEffect('ba-title');


        // Mobile menu toggle functionality
        const menuButton = document.getElementById('menu-button');
        const mobileMenu = document.getElementById('mobile-menu');

        menuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Close mobile menu on link click
        document.querySelectorAll('#mobile-menu a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
            });
        });

        // -----------------------------------------------------------------
        // Intersection Observer Logic for Active Navigation Underlining
        // -----------------------------------------------------------------
        const sections = document.querySelectorAll("section");
        const navLinks = document.querySelectorAll(".nav-link");

        // Options for the observer: rootMargin ensures the link becomes active 
        // when the section is near the top of the viewport.
        const observerOptions = {
            root: null,
            // Use -60% to activate the link when the section is well into view
            rootMargin: "0px 0px -60% 0px", 
            threshold: 0.1,
        };

        const sectionObserver = new IntersectionObserver((entries, observer) => {
            // Remove active class from all links first
            navLinks.forEach(link => link.classList.remove("active"));
            
            // Find the entry that has crossed the threshold and is NOT the landing page
            let currentActiveSectionId = null;

            // Iterate through entries to find the one that is currently intersecting
            // We use reverse iteration to prioritize the lowest section on the page (when scrolling down)
            const reversedEntries = Array.from(entries).reverse(); 
            
            for (const entry of reversedEntries) {
                if (entry.isIntersecting && entry.target.id !== 'landing') {
                    // This is the active section. Stop and use this one.
                    currentActiveSectionId = entry.target.id;
                    break;
                }
            }
            
            if (currentActiveSectionId) {
                const correspondingLink = document.querySelector(`.nav-link[href="#${currentActiveSectionId}"]`);
                if (correspondingLink) {
                    correspondingLink.classList.add("active");
                }
            } else {
                // Default to making the 'About' link active if no other section is dominating 
                // (e.g., when the user is at the top of the 'About' section right after the landing page)
                const aboutLink = document.querySelector('.nav-link[href="#about"]');
                if (aboutLink) {
                   // Check if the landing page is entirely out of view to ensure 'About' is the clear focus
                   const landingEntry = entries.find(e => e.target.id === 'landing');
                   if (landingEntry && !landingEntry.isIntersecting) {
                        aboutLink.classList.add("active");
                   }
                }
            }

        }, observerOptions);

        sections.forEach(section => {
            sectionObserver.observe(section);
        });
        
        // -----------------------------------------------------------------
        // Scroll Animation Logic (Fade-in/Slide-up for content-wrapper)
        // -----------------------------------------------------------------
        const animationWrappers = document.querySelectorAll('.content-wrapper');

        const animationObserverOptions = {
            root: null,
            // Trigger when the element is 150px from the bottom of the viewport
            rootMargin: "0px 0px -150px 0px", 
            threshold: 0.1 
        };

        const animationObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    // Remove the hidden state to trigger the CSS transition
                    entry.target.classList.remove('content-hidden');
                    // We no longer unobserve the target, allowing the animation to re-trigger 
                    // every time the element scrolls out and back into view.
                }
            });
        }, animationObserverOptions);

        animationWrappers.forEach(wrapper => {
            animationObserver.observe(wrapper);
        });
    </script>
</body>
</html>
